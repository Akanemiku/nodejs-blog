function uploads(e,f){var a={div:document.createElement("div"),upload:document.createElement("div"),showImg:document.createElement("img"),remove:document.createElement("div"),};b();d();function b(){var i=a.div;i.className="file";i.style.position="relative";i.style.display="inline-block";i.style.perspective="800px";i.style.transformStyle="preserve-3d";i.style.width=f+"px";e.parentNode.insertBefore(i,e);e.parentNode.appendChild(i);i.appendChild(e);var h=a.upload;h.className="upload";h.innerHTML="上传图片";h.style.backgroundColor="#3399cc";h.style.color="#fff";h.style.width="100%";h.style.textAlign="center";h.style.border="0 none";h.style.outline="0 none";h.style.lineHeight="30px";h.style.cursor="pointer";h.style.borderRadius="5px";i.insertBefore(h,e);var g=a.showImg;g.setAttribute("alt","未选择任何文件");g.setAttribute("width",f);g.setAttribute("height",f);g.style.display="none";g.style.boxSizing="border-box";g.style.margin="10px 0";g.style.transition="all 0.3s ease-in-out";c(g,e);e.style.position="absolute";e.style.top="99999em"}function d(){a.showImg.onmouseenter=function(){a.showImg.style.boxShadow="0 0 5px rgba(20,20,20,0.7)";a.showImg.style.transform="scaleY(1.01)"};a.showImg.onmouseleave=function(){a.showImg.style.boxShadow="";a.showImg.style.transform=""};a.remove.onclick=function(){e.value="";a.showImg.style.display="none";a.remove.innerHTML="";return};a.upload.onclick=function(){e.click()};e.onchange=function(){a.showImg.onload=function(){a.showImg.style.display="block";a.remove.className="remove";a.remove.innerHTML="X";a.remove.style.position="absolute";a.remove.style.right="5px";a.remove.style.top="40px";a.remove.style.color="#fff";a.remove.style.zIndex="10";a.remove.style.cursor="pointer";c(a.remove,e,a.showImg)};var n=this.files[0].name;var l=this.files[0].size;var i=n.split("\\");var j=i[i.length-1];var m=j.split(".");var k=m[m.length-1];if(k!="jpg"&&k!="gif"&&k!="png"&&k!="jpeg"){alert("请上传jpg,gif,png,jpeg格式的图片");this.value="";a.showImg.style.display="none";return}var h=1024*1024*2;if(l>=h){alert("上传图片不得大于2M");this.value="";a.showImg.style.display="none";return}var g=new FileReader();g.onloadend=function(o){a.showImg.src=o.target.result;console.log(g.result)};g.readAsDataURL(this.files[0])}}function c(i,g){var h=g.parentNode;if(h.lastChild==g){h.appendChild(i)}else{h.insertBefore(i,g.nextSibling)}}};